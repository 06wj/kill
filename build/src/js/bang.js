KISSY.add("kill/bang",function(t,i,a){var e=Hilo.Class,o=(Hilo.Sprite,Hilo.Container),h=(Hilo.View,Hilo.Tween),s=Hilo.Bitmap,n=e.create({Extends:o,constructor:function(t){n.superclass.constructor.call(this,t);var i=t.length;this.rotation=0;var a=t.rotation;90===a?this._initShu(i):this._initHeng(i)},onUpdate:function(){this.x+=this.vx,this.y+=this.vy,this.lastVx=this.vx,this.lastVy=this.vy,this.vx=this.vy=0,this.x+this.width>_game.right?this.x=_game.right-this.width:this.x<_game.left&&(this.x=_game.left),this.y+this.height>_game.bottom?this.y=_game.bottom-this.height:this.y<_game.top&&(this.y=_game.top)},_initHeng:function(t){this.width=t+40,this.height=30,a.showHit&&(this.background="rgba(255,0,0,.3)"),this.vx=this.vy=0,this.display=new o({x:4,y:-20}),this.topContainer=new o,this.bottomContainer=new o,this.addChild(this.display),this.display.addChild(this.bottomContainer),this.display.addChild(this.topContainer);var e=new s({x:17,y:20,scaleX:.1*t,image:i.get("hmiddle")});this.topContainer.addChild(e);var n=new s({x:20,y:18,image:i.get("hlight")});this.topContainer.addChild(n);var d=1e3*Math.random(),r=function(){n.y=18,h.to(n,{x:t},{duration:1e3,delay:d,onComplete:function(){n.y=38,h.to(n,{x:0},{duration:1e3,onComplete:function(){r()}})}})};r(),h.to(this.topContainer,{y:5},{duration:1e3,loop:!0,reverse:!0,delay:d});var l=new s({x:9,y:52,image:i.get("hshadow"),pivotX:6.5});this.bottomContainer.addChild(l);var l=new s({x:25+t,y:52,scaleX:-1,pivotX:6.5,image:i.get("hshadow")});this.bottomContainer.addChild(l);var g=new s({x:0,image:i.get("hstart")});this.topContainer.addChild(g);var g=new s({x:t+34,scaleX:-1,image:i.get("hstart")});this.topContainer.addChild(g)},_initShu:function(t){this.width=20,this.height=t+40,a.showHit&&(this.background="rgba(255,0,0,.3)"),this.vx=this.vy=0,this.display=new o({x:3,y:3}),this.topContainer=new o,this.bottomContainer=new o,this.addChild(this.display),this.display.addChild(this.bottomContainer),this.display.addChild(this.topContainer);var e=new s({x:5,y:20,scaleY:.1*t,image:i.get("smiddle")});this.topContainer.addChild(e);var n=new s({x:3,y:33,image:i.get("slight")});this.topContainer.addChild(n);var d=1e3*Math.random(),r=function(){n.y=18,h.to(n,{y:t},{duration:1e3,delay:d,loop:!0,reverse:!0})};r(),h.to(this.topContainer,{y:5},{duration:1e3,loop:!0,reverse:!0,delay:d});var l=new s({x:9,y:52,image:i.get("sshadow"),pivotX:6.5});this.bottomContainer.addChild(l);var l=new s({x:9,y:38+t,scaleX:-1,pivotX:6.5,image:i.get("sshadow")});this.bottomContainer.addChild(l);var g=new s({x:0,image:i.get("sstartFront")});this.topContainer.addChild(g);var g=new s({x:0,y:t-15,image:i.get("sstartBack")});this.topContainer.addChild(g)}});return n},{requires:["kill/resource","kill/config"]});